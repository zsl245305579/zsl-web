$ sqlplus / as sysdba

实例启动状态才能查看或者export ORACLE_SID=orcl再进去才行
SQL> select status from v$instance;



vim /tmp/database/response/dbca.rsp

DATAFILEDESTINATION =/data/oracle/oradata//数据文件存放目录
RECOVERYAREADESTINATION=/data/oracle/flash_recovery_area//恢复数据存放目录

[root@zsl ~]# cat /tmp/database/response/dbca.rsp | egrep -v  "^#|^$"
[GENERAL]
RESPONSEFILE_VERSION = "11.2.0"
OPERATION_TYPE = "createDatabase"
[CREATEDATABASE]
GDBNAME = "orcl"
SID = "ORCL"
TEMPLATENAME = "General_Purpose.dbc"
SYSPASSWORD = "oracle"
SYSTEMPASSWORD = "oracle"
SYSMANPASSWORD = "oracle"
DBSNMPPASSWORD = "oracle"
DATAFILEDESTINATION =/u01/app/oracle/oradata
RECOVERYAREADESTINATION=/u01/app/oracle/fast_recovery_area
CHARACTERSET = "ZHS16GBK"
TOTALMEMORY = "1638"
[createTemplateFromDB]
SOURCEDB = "myhost:1521:orcl"
SYSDBAUSERNAME = "system"
TEMPLATENAME = "My Copy TEMPLATE"
[createCloneTemplate]
SOURCEDB = "orcl"
TEMPLATENAME = "My Clone TEMPLATE"
[DELETEDATABASE]
SOURCEDB = "orcl"
[generateScripts]
TEMPLATENAME = "New Database"
GDBNAME = "orcl11.us.oracle.com"
[CONFIGUREDATABASE]
[ADDINSTANCE]
DB_UNIQUE_NAME = "orcl11g.us.oracle.com"
NODELIST=
SYSDBAUSERNAME = "sys"
[DELETEINSTANCE]
DB_UNIQUE_NAME = "orcl11g.us.oracle.com"
INSTANCENAME = "orcl11g"
SYSDBAUSERNAME = "sys"


$dbca -silent -responseFile /tmp/database/response/dbca.rsp


[root@zsl ~]# cat /u01/app/oracle/cfgtoollogs/dbca/orcl/orcl.log
Copying database files
DBCA_PROGRESS : 1%
DBCA_PROGRESS : 3%



$ vim /u01/app/oracle/product/11.2.0/bin/dbstart
 将ORACLE_HOME_LISTNER=$1修改为ORACLE_HOME_LISTNER=$ORACLE_HOME

$ vim /u01/app/oracle/product/11.2.0/bin/dbshut
将ORACLE_HOME_LISTNER=$1修改为ORACLE_HOME_LISTNER=$ORACLE_HOME


$vi /etc/oratab
将orcl:/u01/app/oracle/product/11.2.0/:N中最后的N改为Y，成为orcl:/u01/app/oracle/product/11.2.0/:Y
通过dbstart与dbshut来控制启动和停止


登录查看实例状态：
$ sqlplus / as sysdba

检查listener.ora
[oracle@zsl ~]$ ll $ORACLE_HOME/network/admin/*.ora
-rw-r--r-- 1 oracle oinstall 359 Dec  1 03:01 /u01/app/oracle/product/11.2.0/network/admin/listener.ora
如果在安装监听过程中出现什么问题，可以将这个文件删除，然后重新执行netca步骤


[root@zsl ~]# cat /u01/app/oracle/product/11.2.0/network/admin/listener.ora
# listener.ora Network Configuration File: /u01/app/oracle/product/11.2.0/network/admin/listener.ora
# Generated by Oracle configuration tools.

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
      (ADDRESS = (PROTOCOL = TCP)(HOST = zsl)(PORT = 1521))
    )
  )

ADR_BASE_LISTENER = /u01/app/oracle






Linux下创建Oracle的实例
使用oracle用户登录，或su到oracle用户
1、首先设置要创建的ORACLE的SID
export ORACLE_SID=addb
2、 创建相应目录
mkdir -p $ORACLE_BASE/admin/addb/{a,b,c,u}dump
mkdir -p $ORACLE_BASE/admin/addb/pfile
mkdir -p $ORACLE_BASE/oradata/addb


3、在$ORACLE_HOME/dbs目录下创建初始化文件

[oracle@zsl ~]$ ls $ORACLE_HOME/dbs
hc_DBUA0.dat  hc_ORCL.dat  init.ora  lkORCL  orapwORCL  spfileORCL.ora

命名方法：init实例名.ora 本例中initaddb.ora

[oracle@zsl ~]$ cd $ORACLE_HOME/dbs
cp init.ora initaddb.ora


vim initaddb.ora 进行编辑，将里面的内容对应修改一下，我的修改完如下：
db_name='addb'
memory_target=1G
processes = 150
audit_file_dest='/u01/app/oracle/admin/addb/adump'
audit_trail ='db'
db_block_size=8192
db_domain=''
db_recovery_file_dest='/u01/app/oracle/flash_recovery_area'
db_recovery_file_dest_size=2G
diagnostic_dest='/u01/app/oracle'
dispatchers='(PROTOCOL=TCP) (SERVICE=addbXDB)'
open_cursors=300
remote_login_passwordfile='EXCLUSIVE'
undo_tablespace='UNDOTBS1'
# You may want to ensure that control files are created on separate physical
# devices
control_files = (ora_control3, ora_control4)
compatible ='11.2.0'

注意不要用原来的<ORACLE_BASE>作为路径，修改为对应的绝对路径，否则会报错
而且注意control_files应该是新的文件，否则会报文件已存在的错误


4、执行命令创建密码文件

orapwd file=$ORACLE_HOME/dbs/orapwaddb password=addb123 entries=5 force=y 
这里设置的是sys用户，密码是addb123使用plsql登陆时使用sysdba登陆！！！


5、创建oracle的建库脚本 createdb.sql,内容如下，我将其放在了$ORACLE_BASE/oradata/addb下面
vim $ORACLE_BASE/oradata/addb/createdb.sql

create database addb
MAXINSTANCES 1
MAXLOGHISTORY 1
MAXLOGFILES 5
MAXLOGMEMBERS 5
MAXDATAFILES 100
DATAFILE
'/data/oracle/oradata/addb/system01.dbf' size 100m reuse autoextend on next 1m maxsize unlimited extent management local
sysaux datafile
'/data/oracle/oradata/addb/sysaux01.dbf' size 100m reuse autoextend on next 1m maxsize unlimited
default temporary tablespace TEMP tempfile
'/data/oracle/oradata/addb/temp01.dbf' size 20m reuse autoextend on next 640k maxsize unlimited
undo tablespace UNDOTBS1 datafile
'/data/oracle/oradata/addb/undo01.dbf' size 20m reuse autoextend on next 5M maxsize unlimited
logfile
GROUP 1 ('/data/oracle/oradata/addb/redo1.dbf') size 10m,
GROUP 2 ('/data/oracle/oradata/addb/redo2.dbf') size 10m,
GROUP 3 ('/data/oracle/oradata/addb/redo3.dbf') size 10m
CHARACTER SET ZHS16GBK
NATIONAL CHARACTER SET AL16UTF16
;


6、执行建库和数据字典脚本
以sysdba进入：
sqlplus / as sysdba
startup nomount;
@$ORACLE_BASE/oradata/addb/createdb.sql;
@?/rdbms/admin/catalog.sql;
@?/rdbms/admin/catproc.sql;
@?/rdbms/admin/catexp.sql;