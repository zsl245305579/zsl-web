https://www.cnblogs.com/chinafine/articles/1755405.html

步骤一：关闭数据库
1.export ORACLE_SID=zsl2
2.sqlplus / as sysdba
3.shutdown immediate

find $ORACLE_BASE/ -name zsl2



find $ORACLE_BASE/ -name zsl2 -exec rm -rf {} \;


find $ORACLE_BASE/ -name zsl2


find $ORACLE_BASE/* -name '*[Zz][Ss][Ll][2]*' | grep -v admin | grep -v oradata


步骤四：删除实例配置文件中的信息
1.vi /etc/oratab
2.找到 bgsp:/Oracle_11g/oracle:N


/u01/app/oracle/product/11.2.0/dbs



数据库日常操作命令

ORCL

启动数据库
1.export ORACLE_SID=ORCL
2.sqlplus / as sysdba
startup #开启

shutdown immediate #关闭

shutdown有四个参数：normal、transactional、immediate、abort。缺省不带任何参数时表示是normal。
shutdown normal：启动时不需要实例恢复，这种方法往往不能关闭数据库或等待很长时间。
shutdown immediate：没有结束的事务是自动rollback的。启动最常用的方法。



NOMOUNT：启动数据库实例， 此时读取参数文件，但是不加载数据库；
MOUNT：启动数据库实例，加载数据库，但是数据库处于关闭状态；
OPEN：启动数据库实例，加载并打开数据库；
FORCE：终止实例并重启数据库，这种模式在数据库关闭或者启动遇到问题时使用，这种方式不到万不得已时不要使用，会有数据丢失；

1）NOMOUNT
这种模式只会创建实例（创建Oracle其中有5个进程必须启动， DBWR、LGWR、SMON、PMON、CKPT），也不会打开任何数据文件。


select * from v$datafile;
show parameer control_files;

2）MOUNT
切换状态
alert database mount;
startup mount

select FILE#, STATUS, NAME from v$datafile;

select * from scott.dept;

3)open

alter database open

startup open;

4）FORCE
这种模式将终止实例并重启数据库，这是一种强制性启动模式，只有在启动或者关闭出现问题时才使用，并且有一定的风险，会丢失数据，造成意外的问题。

shutdown immediate 
startup force
select * from scott.dept;


1）startup nomount
非安装启动，这种方式启动下可执行：重建控制文件、重建数据库
读取init.ora文件，启动instance，即启动SGA和后台进程，这种启动只需要init.ora文件。


2）startup mount dbname
安装启动，这种方式启动下可执行：
数据库日志归档、
数据库介质恢复、
使数据文件联机或脱机，
重新定位数据文件、重做日志文件。
执行“nomount”，然后打开控制文件，确认数据文件和联机日志文件的位置，
但此时不对数据文件和日志文件进行校验检查。
  
3）startup open dbname
先执行“nomount”，然后执行“mount”，再打开包括Redo log文件在内的所有数据库文件，
这种方式下可访问数据库中的数据。
  
4）startup，等于以下三个命令
startup nomount
alter database mount
alter database open

5）startup restrict
约束方式启动
这种方式能够启动数据库，但只允许具有一定特权的用户访问
非特权用户访问时，会出现以下提示：
ERROR：
ORA-01035: ORACLE 只允许具有 RESTRICTED SESSION 权限的用户使用
  
6）startup force
强制启动方式
当不能关闭数据库时，可以用startup force来完成数据库的关闭
先关闭数据库，再执行正常启动数据库命令
  
7）startup pfile=参数文件名
带初始化参数文件的启动方式
先读取参数文件，再按参数文件中的设置启动数据库
例：startup pfile=E:\Oracle\admin\oradb\pfile\init.ora
  
8）startup EXCLUSIVE


有三种关闭方式：
1）shutdown normal
   正常方式关闭数据库。
  
2）shutdown immediate
   立即方式关闭数据库。
   在SVRMGRL中执行shutdown immediate，数据库并不立即关闭，
   而是在Oracle执行某些清除工作后才关闭（终止会话、释放会话资源），
   当使用shutdown不能关闭数据库时，shutdown immediate可以完成数据库关闭的操作。
  
3）shutdown abort
   直接关闭数据库，正在访问数据库的会话会被突然终止，
   如果数据库中有大量操作正在执行，这时执行shutdown abort后，重新启动数据库需要很长时间。


登录

2.1  以DBA用户登录数据库（如system,sys）
SQL> conn system/oracle@orcl

注：如果在本地服务器登录@orcl可以去掉


2.2  用create user语法创建用户
SQL> CREATE USER user_name IDENTIFIED BY user_passwordDefaultTablespace tbs_users;
user_name为数据库用户的用户名
user_password为数据库用户的密码
tbs_users为用户使用的表空间，默认是users表空间。

SQL> CREATE USER cmsuser IDENTIFIED BY "password" DefaultTablespace users;


2.3  赋表空间使用权限
SQL> alter user user_name quota unlimited on user_tablespace quota unlimited on user_tablespace;

2.4  给用户赋权限
SQL> GRANT connect, resource TO cmsuser;
Connect用户能登录数据库的权限
Resource用户能创建一些数据库对像的权限，表、视图，存储过程，一般是授予开发人员的
 
2.5  删除用户
SQL> DropUser cmsuser Cascade;
使用cascade参数可以删除该用户的全部objects

创建删除

create user test identified by "table";

create user cmsuser identified by "table";

drop user test;
drop user cmsuser;



五、sql*plus常用命令
1)、连接命令
1.conn[ect]
用法：conn 用户名/密码@网络服务名 [as sysdba/sysoper]
说明：当用特权用户身份连接时，必须带上as sysdba或是as sysoper
eg、
SQL> show user
USER 为 "SCOTT"
SQL> conn system/oracle@orcl
已连接。
SQL> show user
USER 为 "SYSTEM"
SQL>

2.disc/disconn/disconnect
说明: 该命令用来断开与当前数据库的连接
3.pssw[ord]
说明: 该命令用于修改用户的密码，如果要想修改其它用户的密码，需要用sys/system登录。
eg、
SQL> conn scott/oracle
已连接。
SQL> passw
更改 SCOTT 的口令
旧口令:
新口令:
重新键入新口令:
口令已更改
SQL>
4.show user
说明: 显示当前用户名
5.exit
说明: 该命令会断开与数据库的连接，同时会退出sql*plus
5.clear screen
清空屏幕

              

2)、文件操作命令
1.start和@
说明: 运行sql脚本
案例: sql>@ d:\a.sql或是sql>start d:\a.sql
2.edit
说明: 该命令可以编辑指定的sql脚本
案例: sql>edit d:\a.sql,这样会把d:\a.sql 这个文件打开
3.spool
说明: 该命令可以将sql*plus屏幕上的内容输出到指定文件中去。
案例: sql>spool d:\b.sql并输入sql>spool off
eg、
sql>spool d:\b.sql;
sql>select * from emp;
sql>spool off;

3)、交互式命令
1.&
说明：可以替代变量，而该变量在执行时，需要用户输入。
select * from emp where job='&job'；

4)、显示和设置环境变量
概述：可以用来控制输出的各种格式，set show 如果希望永久的保存相关的设
置，可以去修改glogin.sql 脚本
1.linesize
说明：设置显示行的宽度，默认是80个字符
show linesize
set linesize 90
2.pagesize说明：设置每页显示的行数目，默认是14
用法和linesize 一样
至于其它环境参数的使用也是大同小异
